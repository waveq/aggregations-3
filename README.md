# Agregacje 3

![Data Wranglers](images/data-wrangler.jpg)

Kilka przykładowych agregacji korzystających z danych
[zipcodes](http://media.mongodb.org/zips.json) oraz
[imieniny](data/wbzyl/imieniny.csv) opisano w [Aggregation Pipeline Examples](Aggregations_in_JS.md).

### Zaliczenie, *deadline* czwartek, 2014-11-20, 08:00 CEST

**[16.11.2014]** 12.11. pojawiła się wersja [2.8.0-rc0](http://docs.mongodb.org/manual/release-notes/2.8/).
Dlatego do tabelek w zadaniach 1a, 1c, 2 dodać wiersze dla tej (lub późniejszej) wersji MongoDB.
W wynikach uwzględnić *storageEngines*
[MMAP](http://docs.mongodb.org/manual/faq/storage/)
([Understanding MongoDB Storage](http://www.polyspot.com/en/blog/2012/understanding-mongodb-storage/))
i [WiredTiger](http://www.wiredtiger.com/).

Należy przygotować rozwiązania [zadań 1 i 2](http://wbzyl.inf.ug.edu.pl/nosql/zadania).

Dane należy wpisać według schematu (całość w jednym wierszu):

    1. [Nazwisko, Imię](link do **prywatnego** repo z rozwiązaniem zadania 1 na GitHub).
       [Tytuł](link do **prywatnego** repo z rozwiązaniem zadania 2 na GitHub)

1. [Acewicz-Hepfner, Patryk](https://github.com/pacewicz/NoSQLWB/blob/master/Zad1.md). [???](https://github.com/pacewicz/NoSQLWB/blob/master/Zad2.md)
1. Banecka, Kamila
1. Banecki, Daniel
1. [Bednarczyk, Marek](https://github.com/mbednarczyk/nosql_lab). [AllFlights](https://github.com/mbednarczyk/nosql_lab/tree/master/ex2)
1. Bieliński, Marcin
1. [Bławat, Adam](https://github.com/ablawat/technologie-nosql/blob/master/zadanie-1.md)
1. Bonczkowska, Magdalena
1. [Borkowski, Maciej](https://github.com/maciekBorkowski/TrainMongoDB). [GetGlue](https://github.com/maciekBorkowski/GetGlue)
1. [Cimoch, Jarosław](https://github.com/jcimoch/noSQL-labs)
1. [Czechowicz, Kacper](https://github.com/kipperek/nosqlOne). [People](https://github.com/kipperek/nosqlTwo)
1. [Dargacz, Mateusz](https://github.com/mateuszdargacz/noSQL-aggregation). [word-list](https://github.com/mateuszdargacz/nosql_aggregation_2)
1. [Drozdowski, Adrian](https://github.com/adrozdowski/NoSQL/blob/master/Zadanie1.md). [GetGlue](https://github.com/adrozdowski/NoSQL/blob/master/Zadanie2.md)
1. Ekiert, Łukasz
1. Gałka, Łukasz
1. Grycko, Marcin
1. [Horoszko, Marcin](https://github.com/cinkonaap/nosql/blob/master/zad1/rozwiazanie.md). [GetGlue IMDB](https://github.com/cinkonaap/nosql/blob/master/zad2/rozwiazanie.md)
1. Janowski, Arkadiusz
1. [Józwiak, Roman](https://github.com/gruchanet/nosql_experiments/blob/master/solutions/exercise1.md). [Majestic](https://github.com/gruchanet/nosql_experiments/blob/master/solutions/exercise2.md)
1. Kamiński, Jakub
1. [Karolczak, Jakub](https://github.com/Taureli/NoSQL1/blob/master/Zadanie1/README.md). [GetGlue sample](https://github.com/Taureli/NoSQL1/blob/master/Zadanie2/README.md)
1. Kąkol, Jan
1. Kłeczek, Piotr
1. Komorowski, Szymon
1. Koźmiński, Marcin
1. Kożuch, Adam
1. [Kucharski, Maciej](https://github.com/Maciekek/noSQL). [Loty](https://github.com/Maciekek/noSQL/tree/master/zad2)
1. Kulas, Piotr
1. [Kuźnik, Mateusz](https://github.com/Misiek92/NoSQL1/blob/master/zadanie1.md). [GetGlue](https://github.com/Misiek92/NoSQL1/blob/master/zadanie2.md)
1. [Kwiatkowski, Dominik](https://github.com/Kalumniatoris/fornosqleihp/blob/master/README.md). [GetGlue](https://github.com/Kalumniatoris/fornosqleihp/blob/master/Zadanie2/Zadanie2.md)
1. [Lamkiewicz, Krzysztof](https://github.com/KLamkiewicz/NoSql)
1. [Latoszewski, Adam](https://github.com/alatoszewski/nosql-mongo/blob/master/zadanie1.md). [???](https://github.com/alatoszewski/nosql-mongo/blob/master/zadanie2.md)
1. [Latoszewski, Krzysztof] (https://github.com/klatoszewski/nosql/blob/master/Zadanie_1.md). [GetGlue](https://github.com/klatoszewski/nosql/blob/master/Zadanie_2.md)
1. [Ławicki, Patryk](https://bitbucket.org/true-or-false/mongo). [USCars](https://bitbucket.org/true-or-false/aggregations)
1. Makulec, Krzysztof
1. [Miotk, Mateusz](https://github.com/miotek32/NoSQL).[Sentencje angielskie](https://github.com/miotek32/NoSQL---Exercise2)
1. [Miś, Maciej](https://github.com/MacMisDev/nosql)
1. [Nowak, Wojciech](https://github.com/YoungCoder/agregacje3)[Crimes](https://github.com/YoungCoder/agregacje3)
1. Nowicki, Jakub
1. [Ossowski, Marcin](https://github.com/mossowski/NoSQL-lab/blob/master/zad1.md). [GetGlue](https://github.com/mossowski/NoSQL-lab/blob/master/zad2.md)
1. Piotrkowski, Łukasz
1. [Rękawek, Szymon](https://github.com/waveq/nosqlUG/blob/master/Zad1.md). [GetGlue](https://github.com/waveq/nosqlUG/blob/master/Zad2.md)
1. Sałata, Jakub
1. [Sarzyńska, Magdalena](https://github.com/Madzia/NoSQL_UG/blob/master/zad1.md). [Power](https://github.com/Madzia/NoSQL_UG/blob/master/zad2.md)
1. [Sienkiewicz, Daniel](https://github.com/henio180/NoSQL) [Loty](https://github.com/henio180/NoSQL2)
1. [Skałkowski, Michał](https://github.com/Michaldwadwa/nosql).[flights](https://github.com/Michaldwadwa/nosql2)
1. Soliński, Damian
1. [Synowczyk, Piotr](https://github.com/psynowczyk/tnosql)
1. Szklarska, Milena
1. Szymanek, Tomasz
1. [Wittbrodt, Łukasz](https://bitbucket.org/lukasz978/nosql). [Loty](https://bitbucket.org/lukasz978/nosql/zad2.md)
1. Zakrzewski, Patryk
1. [Zalewski, Marcin](https://github.com/mzalewskiug/nosql-uczelnia/blob/master/zadanie1.md). [GetGlue](https://github.com/mzalewskiug/nosql-uczelnia/blob/master/zadanie2.md)
1. Zdunek, Kamil


### Egzamin, *deadline* czwartek, 2015-01-08, 08:00 CEST

Należy przygotować rozwiązania do
[zadania 3](http://wbzyl.inf.ug.edu.pl/nosql/zadania)
(można zaproponować inne dane i inne funkcje map i reduce).
Albo przygotować przykłady z *faceted search* lub agregacji w Elasticsearch.

Można też przygotować rozwiązanie w zespole 2–3 osobowy.
W takim przypadku należy podłączyć *mongod* do
[MMS](https://mms.mongodb.com) i dodać raport z monitoringu.
(Po podłączeniu w opcjach należy włączyć profilowanie.)


TODO: lista + lista zespołów.



## Simple Rules for Reproducible Computations

Provide public access to scripts, runs, and results:

1. Version control all custom scripts:
  - avoid writing code
  - **write thin scripts** and use standard tools and use standard UNIX
    commands to chain things together.
1. Avoid manual data manipulation steps:
  - use a build system, for example [**make**](http://bost.ocks.org/mike/make/),
    and have all results produced automatically by build targets
  - if it’s not automated, it’s not part of the project,
    i.e. have an idea for a graph or an analysis?
    automate its generation
1. Use a markup, for example
   [**Markdown**](http://daringfireball.net/projects/markdown/syntax),
   to create reports for analysis and presentation output products.

And two more rules:

1. Record all intermediate results, when possible in standardized formats.
1. Connect textual statements to underlying results.


## Różne rzeczy

1. Do automatycznego wygenerowania spisu treści w zadaniach można użyć narzędzia
[Table of Contents Preprocessor](https://github.com/aslushnikov/table-of-contents-preprocessor).
1. Jak sobie radzić z [nieczystymi committami](Git_Pull_Requests.md)?


## Big Collections

1. [Stanford Large Network Dataset Collection](https://snap.stanford.edu/data/)
by Jure Leskovec: Online Reviews (Amazon, Movies, Beer)
1. [GetGlue and Timestamped Event Data](http://getglue-data.s3.amazonaws.com/getglue_sample.tar.gz)
(ok. 11 GB); próbka 100 jsonów [getglue101](/data/wbzyl/getglue101.json).
Dane pochodzą z lat 2007–2012 – tylko filmy i przedstawienia TV.
Przykładowe aggregacje: ilu jest różnych użytkowników
w danych? jakie jest 10 najpopularniejszych filmów i przedstawień TV?
ile jest różnych akcji?
1. [GeoNames](http://www.geonames.org/export/) i [Postal Codes](http://www.geonames.org/postal-codes/).
